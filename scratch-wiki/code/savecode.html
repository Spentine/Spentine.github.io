<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<title>Savecode</title>

<link href="../style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="style.css">

</head>
<body>
<p><a href="../index.html">go back</a></p>

<h1> Savecode </h1>

<p> Encode a list: </p>

<p class="code">define encode
set [save code v] to ()
set [index v] to (0)
repeat (length of [list v])
change [index v] by (1)
set [char index v] to (0)
repeat (length of (item (index) of [list v]))
change [char index v] by (1)
if <[/,] contains (letter (char index) of (item (index) of [list v]))? :: operators> then
set [save code v] to (join (savecode) [/]
end
set [save code v] to (join (save code) (letter (char index) of (item (index) of [list v])))
end
set [save code v] to (join (save code) [,])
end

define decode (string)
delete [all v] of [list v]
set [char index v] to ()
set [index v] to (1)
repeat until <(index) > (length of (string))>
if <(letter (index) of (string)) = [,]> then
add (char index) to [list v]
set [char index v] to ()
else
if <(letter (index) of (string)) = [/]> then
change [index v] by (1)
end
set [char index v] to (join (char index) (letter (index) of (string)))
end
change [index v] by (1)
end</p>

<p> Encode an unmodifiable list using a checksum hash: </p>

<p class="code">define hash(str
set[output v]to(77978
repeat(length of(str
set[output v]to(((([floor v]of((output)/(77977)))+(1))*(77977))+((((output)mod(77977))*(([e ^ v]of((&lt;[qetuoadgjlxvn13579`!#%&\(-_\[\\};:,/&gt;]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;+((2)*(&lt;[weyupafgklcvm14589~!$%*\(=_\]\\|;",\&lt;\&gt;]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;+((2)*(&lt;[rtyusdfgzxcv23450`~!^&*\(+\[\]\\':",?]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;+((2)*(&lt;[iopasdfgbnm12345@#$%^&*\({}|;':",]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;+((2)*(&lt;[hjklzxcvbnm12345\)-=_+\[\]\\{}|;':",]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;+((2)*(&lt;[67890`~!@#$%^&*\(\)-=_+\[\]\\{}|;':",]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;+((2)*&lt;[./\&lt;\&gt;?]contains(letter([floor v]of((output)/(77977)))of(str))?&gt;))))))))))))/(3)))*(2.71)))mod(77977
end
set[output v]to((output)mod(77977

define encode
set [save code v] to ()
set [index v] to (0)
repeat (length of [list v])
change [index v] by (1)
set [char index v] to (0)
repeat (length of (item (index) of [list v]))
change [char index v] by (1)
if &lt;[/,] contains (letter (char index) of (item (index) of [list v]))? :: operators&gt; then
set [save code v] to (join (savecode) [/]
end
set [save code v] to (join (save code) (letter (char index) of (item (index) of [list v])))
end
set [save code v] to (join (save code) [,])
end

define decode (string)
delete [all v] of [list v]
set [char index v] to ()
set [index v] to (1)
repeat until &lt;(index) &gt; (length of (string))&gt;
if &lt;(letter (index) of (string)) = [,]&gt; then
add (char index) to [list v]
set [char index v] to ()
else
if &lt;(letter (index) of (string)) = [/]&gt; then
change [index v] by (1)
end
set [char index v] to (join (char index) (letter (index) of (string)))
end
change [index v] by (1)
end

define encode savecode
encode
hash (savecode)
set [savecode v] to (join (savecode) (join (output) [,]))

define decode savecode (savecode)
decode (savecode)
set [previous hash v] to (item [last] of [list v])
delete [last] of [list v]
encode
hash (savecode)
if &lt;(output) = (previous hash)&gt; then
The savecode is valid and not modified :: grey
else
The user modified the savecode :: grey
end</p>

</body>
</html>
