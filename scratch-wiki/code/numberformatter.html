<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<title>number formatter</title>

<link href="../style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="style.css">

</head>
<body>
<p><a href="../index.html">go back</a></p>

<h1> number formatter </h1>

<p> Code (one line, no negatives): </p>

<p class="code">define format number (n) (float)
set [return v] to (join(([floor v]of(((n)/((([10^ v]of((([floor v]of(([log v]of(n))/(3)))*(3))+((3)*&lt;((n)/([10^ v]of(([floor v]of(([log v]of(n))/(3)))*(3))::operators))=(1000)&gt;))::operators)*&lt;(n)&gt;(1)&gt;)+&lt;not&lt;(n)&gt;(1)&gt;&gt;))*([10^ v]of(float)::operators)))/([10^ v]of(float)::operators))(join()(item(((([floor v]of(([log v]of(n))/(3)))*(3))+((3)*&lt;((n)/([10^ v]of(([floor v]of(([log v]of(n))/(3)))*(3))::operators))=(1000)&gt;))/(3))of[endings v])))</p>

<p> Below is a version that supports negative numbers: </p>
  
<p class="code">define format number(n)(float)
set[return v]to(join(letter&lt;(n)&lt;(0)&gt;of(-))(join(([floor v]of((([abs v]of(n))/([10 ^ v]of((([floor v]of(([log v]of([abs v]of(n)))/(3)))*(3))+((3)*&lt;(([abs v]of(n))/([10 ^ v]of(([floor v]of(([log v]of([abs v]of(n)))/(3)))*(3))))=(1000)&gt;))))*([10 ^ v]of(float))))/([10 ^ v]of(float)))(join( )(item(((([floor v]of(([log v]of([abs v]of(n)))/(3)))*(3))+((3)*&lt;(([abs v]of(n))/([10 ^ v]of([floor v]of((([log v]of([abs v]of(n)))/(3))*(3)))))=(1000)&gt;))/(3))of[endings v]</p>
</body>
</html>
