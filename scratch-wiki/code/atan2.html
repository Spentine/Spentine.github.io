<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<title>atan2()</title>

<link href="../style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="style.css">

</head>
<body>
<p><a href="../index.html">go back</a></p>

<h1> atan2() </h1>

<p> Code: </p>

<p class="code">point in direction (([atan v] of ((x) / (y))) + ((180) * <(y) < (0)>))</p>

<p> If you're looking to have atan2 relative to a point, you can use this: </p>

<p class="code">point in direction (([atan v] of (((target x) - (x position)) / ((target y) - (y position)))) + ((180) * <(target y) < (y position)>))</p>

<p> The code works because the atan() function is the reverse of the tangent function. If you recall the tangent function, you know that it finds the angle of the opposite side of a triangle divided by the adjacent side of a triangle. If you divide both the opposite and adjacent side of the triangle, the adjacent side will be normalized to 1 and then opposite side will be equal to tan(theta). Since the two triangles are similar, angles are preserved. Since the adjacent side is 1, tan(theta), or the opposite side is equal to the slope. The tangent function converts an angle into a slope. Likewise, using the atan function (tan^-1(theta)) will convert a slope into an angle. Now, to get the slope of the sprite to the designated x and y position, we must find the slope. We find the change in values by using i - j, where i = (target x, target y) and j = (x position, y position). (target x) - (x position) and (target y) - (y position). Afterwards, we divide the run by the rise rather than rise over run, since in Scratch, angles go clockwise rather than counterclockwise. If the target position is below the y position, then the atan function will return an angle that is that number + 180. In order to account for this, we have to do (180 * <(target y) < (y position)>). If we find the change in value (target y - y position), and create an inequality (target y - y position < 0), we can add y position to both sides in order to get (target y) < (y position). If this is true, it returns 1, and otherwise it returns 0. We can multiply this number by 180 and add it to the final amount. Now, we have an angle formula that will take in a position i, and the current sprite's position j, and finds the angle the sprite needs to turn so that if it's at position j, it will be facing i.</p>

</body>
</html>
